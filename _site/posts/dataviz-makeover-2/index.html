<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>My Data Visualisation Blog: DataViz Makeover 2</title>

<meta property="description" itemprop="description" content="This visualisation presents lorem ipsum."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-02-19"/>
<meta property="article:created" itemprop="dateCreated" content="2021-02-19"/>
<meta name="article:author" content="Andy WONG"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="My Data Visualisation Blog: DataViz Makeover 2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="This visualisation presents lorem ipsum."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="My Data Visualisation Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="My Data Visualisation Blog: DataViz Makeover 2"/>
<meta property="twitter:description" content="This visualisation presents lorem ipsum."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover 2"]},{"type":"character","attributes":{},"value":["This visualisation presents lorem ipsum."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Andy WONG"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/andywongkh"]}]}]},{"type":"character","attributes":{},"value":["02-19-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["images/age1.jpg","images/age1a.jpg","images/age2.jpg","images/age2a.jpg","images/age3a.jpg","images/ageedittitle.jpg","images/agerangeofvalues.jpg","images/agetofilters.jpg","images/allvaluesindatabase.jpg","images/children1a.jpg","images/children2a.jpg","images/children3a.jpg","images/cifor65andabove.jpg","images/colourformeasurevalues.jpg","images/colourforproportion.jpg","images/colourmarkeditcolours.jpg","images/colsandrowspane.jpg","images/countnegative.jpg","images/country1.jpg","images/country2.jpg","images/country3.jpg","images/country4.jpg","images/countrysinglevaluedropdown.jpg","images/countrytofilters.jpg","images/dashboardtitle.jpg","images/editcharttitle.jpg","images/editcharttitle1a.jpg","images/employment1a.jpg","images/employment2a.jpg","images/employment3a.jpg","images/employmentstatusmergededittitle.jpg","images/employmentstatusmergedtofilters.jpg","images/employmentstatusmergedtosinglevaluedropdown.jpg","images/employstatus1.jpg","images/employstatus2.jpg","images/employstatus3.jpg","images/employstatus4.jpg","images/endtime.jpg","images/endtimecol1.jpg","images/endtimecol2.jpg","images/endtimecol3.jpg","images/endtimecol4.jpg","images/endtimecol5.jpg","images/endtimecol6.jpg","images/endtimecol7.jpg","images/endtimetofilter.jpg","images/filters1a.jpg","images/filtertotopofgraph.jpg","images/finaldashboard.jpg","images/finalgraph1.jpg","images/ganttpercent.jpg","images/ganttpercent1.jpg","images/ganttpercentsurveyquestion.jpg","images/ganttstart.jpg","images/gender1.jpg","images/gender1a.jpg","images/gender2.jpg","images/gender2a.jpg","images/gender3a.jpg","images/gendercolouredit.jpg","images/genderedittitle.jpg","images/gendertocolour.jpg","images/gendertofilters.jpg","images/gendertosingvaluedropdown.jpg","images/household1a.jpg","images/household2a.jpg","images/household3a.jpg","images/householdchild1.jpg","images/householdchild2.jpg","images/householdchild3.jpg","images/householdchildrenedittitle.jpg","images/householdchildrenrangeofvalues.jpg","images/householdchildrentofilters.jpg","images/householdsize1.jpg","images/householdsize2.jpg","images/householdsize3.jpg","images/householdsizerecodededittitle.jpg","images/householdsizerecodedrangeofvalues.jpg","images/householdsizetofilter.jpg","images/lineasmarktype.jpg","images/measurenamesinaggproportion.jpg","images/measurenamesinmeasurevaluesmark.jpg","images/measurenamestofilter.jpg","images/numberofrecords.jpg","images/observationcontracingcovid.jpg","images/observationmalevsfemale.jpg","images/opendatafile.jpg","images/originalchart.jpg","images/percentage.jpg","images/percentagesize.jpg","images/percentagetosize.jpg","images/picture3.jpg","images/prop95lowuppertomeasurevalues.jpg","images/proplowerlimit90.jpg","images/proplowerlimit95.jpg","images/proplowerlimit99.jpg","images/propmarginoferror90.jpg","images/propmarginoferror95.jpg","images/propmarginoferror99.jpg","images/proportion.jpg","images/proportiontotopofchart.jpg","images/propse.jpg","images/propupperlimit90.jpg","images/propupperlimit95.jpg","images/propupperlimit99.jpg","images/quadrant.jpg","images/removedataset.jpg","images/renamedashboard1a.jpg","images/renameworksheettab.jpg","images/renameworksheettab1a.jpg","images/savenewdataset1.jpg","images/savenewdataset2.jpg","images/sideeffects65andabove.jpg","images/sketch.jpg","images/sortproportionbydesc.jpg","images/sortyaxis.jpg","images/stronglyagreeandagreescores.jpg","images/surveyquestion.jpg","images/surveyquestionresponse1.jpg","images/surveyquestionresponse2.jpg","images/surveyquestionresponse3.jpg","images/surveyquestionresponse4.jpg","images/surveyquestionresponse5.jpg","images/surveyquestionresponse6.jpg","images/surveyquestionresponse7.jpg","images/surveyquestionresponse8.jpg","images/surveyquestionshowfilter.jpg","images/surveyquestiontopofgraph.jpg","images/surveyresponseinttocolour.jpg","images/surveyresponseinttodetail.jpg","images/synchroniseaxis.jpg","images/totalcount.jpg","images/totalcountnegative.jpg","images/union.jpg","images/upperandlowerlimit95.jpg","images/v.jpg","images/worksheetsintodashboard.jpg","images/z90.jpg","images/z95.jpg","images/z99.jpg"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.6.4/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover 2","description":"This visualisation presents lorem ipsum.","authors":[{"author":"Andy WONG","authorURL":"https://www.linkedin.com/in/andywongkh","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-02-19T00:00:00.000+08:00","citationText":"WONG, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">My Data Visualisation Blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../home.html">Home</a>
<a href="../../dataviz.html">DataViz Makeover Assignments</a>
<a href="../../vap.html">Data Visualisation Project</a>
<a href="../../about.html">About</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover 2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>This visualisation presents lorem ipsum.</p></p>
</div>

<div class="d-byline">
  Andy WONG <a href="https://www.linkedin.com/in/andywongkh" class="uri">https://www.linkedin.com/in/andywongkh</a> 
  
<br/>02-19-2021
</div>

<div class="d-article">
<h1 id="introduction">1.0 Introduction</h1>
<p>One year on, the COVID-19 pandemic continues raging and is still very much on everyones mind. 2021 started with a faint glimmer of hope as vaccinations begin to roll out across the world. Countries that have access to the various vaccines are doing their best to fight against a current of anti-vaccine sentiment. While many people are hopeful that the vaccine will finally bring the pandemic under control, many others are wary of the potential dangers of being inoculated with a vaccine so new that any potential long-term side effects have yet to be uncovered. Compounding this fear is the fact that many of these vaccines were pushed through public health authorities approval processes at lightning speed, causing people to question if the proper processes and due diligence were maintained.</p>
<p><a href="https://yougov.co.uk/topics/politics/articles-reports/2020/04/11/covid-19-how-yougov-partnership-imperial-college-">YouGov, together with Imperial College London</a>, conducts an ongoing survey to gather data on peoples behaviours in response to COVID-19. This blog uses the publicly available data and focuses on peoples sentiments to the COVID-19 vaccines in particular, within January 2021.</p>
<h2 id="the-scene">1.1 The Scene</h2>
<p>A research team is currently conducting a study to understand public sentiment regarding the COVID-19 vaccines. Below are two data visualisations created by one of the research scientists.<img src="images/originalchart.jpg" style="width:100.0%" /></p>
<h2 id="the-task">1.2 The Task</h2>
<ol type="1">
<li>Critique the graph for both its clarity and aesthetics. At least three observations from each evaluation criterion. (15 marks)</li>
<li>With reference to the critique above, suggest an alternative graphical presentation to improve the current design. Sketch out the proposed design. The proposed alternative design should include interactive techniques. Support your design by describing the advantages or which part of the issue(s) your alternative design is trying to overcome. (15 marks)</li>
<li>Using Tableau, design your proposed data visualisation. (25 marks)</li>
<li>Provided step-by-step descriptions on how the data visualisation was prepared. (30 marks)</li>
<li>Describe three major observations revealed by the data visualisation prepared. (15 marks)</li>
</ol>
<p>The remade data visualisation can be viewed on <a href="https://public.tableau.com/views/DataVizMakeover1_16116436098390/LFPR2009-2019">Tableau Public</a>.</p>
<h1 id="makeover">2.0 Makeover</h1>
<h2 id="critique-of-the-visualisation-and-suggested-improvements">2.1 Critique of the visualisation, and suggested improvements</h2>
<h4 id="clarity"><strong>2.1.1 Clarity</strong></h4>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 46%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>S/n</th>
<th>Critique</th>
<th>Suggestions for improvement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><em>The graphs do not show the confidence intervals of the responses.</em> This does not provide a good sense of how reliable the survey score is.</td>
<td><em>Include a confidence interval</em> for a more accurate presentation of the survey results.</td>
</tr>
<tr class="even">
<td>2</td>
<td><em>The visualisation is one-dimensional and too simplistic.</em></br></br>a) It does not take into account demographic data such as gender, age, employment status, and household constitution.</br></br>b) It only presents data from one single survey question. To have a fuller understanding of the peoples sentiment to the vaccine, other relevant questions should be included.</td>
<td><em>Introduce more dimensions to the visualisation.</em></br></br>a) Include demographic profiling into the visualisation for a more nuanced presentation of the data.</br></br>b) Introduce other relevant survey questions for a deeper and fuller understanding of the data.</td>
</tr>
<tr class="odd">
<td>3</td>
<td><em>The stacked bar chart can more accurately reflect what the survey responses are.</em> While the stacked bars show the proportion of responses according to the survey score, it does not visually show the positive- or negative-leaning of the general sentiment.</td>
<td><em>Redesign the stacked bar chart</em> to show the general consensus of the responses in a more visually intuitive way.</td>
</tr>
</tbody>
</table>
<h4 id="aesthetics"><strong>2.1.2 Aesthetics</strong></h4>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 46%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>S/n</th>
<th>Critique</th>
<th>Suggestions for improvement</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td><em>The colour scheme for the right-hand chart does not corroborate to the usual meaning of the colours.</em> Red typically has the opposite meaning of blue, and so if blue is 1, red should be 5 and not 3.</td>
<td><em>Improve the colour scheme</em> of the chart to be more intuitive.</td>
</tr>
<tr class="even">
<td>2</td>
<td><em>The right-hand chart does not add much more value to the visualisation</em> other than sorting the countries in descending order of responses to survey score 1.</td>
<td><em>Redesign the right-hand chart entirely</em> for better presentation of the data.</td>
</tr>
<tr class="odd">
<td>3</td>
<td><em>Lack of editing and proofreading of the title</em>. Spelling mistakes and grammatical errors, although not critical in themselves, distract from that which is critical: the main content of the visualisations.</td>
<td><em>Ensure proper editing and proofreading of the content</em> (vaccine, not vacinne) to enhance the overall presentation and bring focus to the critical message of the visualisation. The names of the countries could also be shown to their proper format (United Kingdom instead of united-kingdom), and capitalised.</td>
</tr>
</tbody>
</table>
<p>Based on the above assessment, the chart falls across Quadrants I and IV of the matrix: </br> <img src="images/quadrant.jpg" style="width:100.0%" /></p>
<h2 id="sketch-an-alternative-visualisation">2.2 Sketch an alternative visualisation</h2>
<p></br> <img src="images/sketch.jpg" style="width:100.0%" /></p>
<h2 id="build-the-visualisation">2.3 Build the visualisation</h2>
<h3 id="import-the-data">2.3.1 Import the data</h3>
<p>Step 1: Open Tableau. Add in any one of the data files as the data source. <img src="images/opendatafile.jpg" style="width:100.0%" /></p>
<p>Step 2: Remove the table as the dataset.</br> <img src="images/removedataset.jpg" style="width:60.0%" /></p>
<p>Step 3: Double-click on New Union, multi-select all the country csv files and drag them into the Union dialogue under Specific (manual).</br> <img src="images/union.jpg" style="width:75.0%" /></br> Click OK. This will union all the tables into one single dataset.</p>
<h3 id="clean-the-data">2.3.2 Clean the data</h3>
<p><strong>Endtime column</strong></br> Step 4: The endtime column will be used to ascertain the date of the survey response. First, change the data type to string.</br> <img src="images/endtimecol1.jpg" style="width:40.0%" /></p>
<p>Step 5: Click on Custom Split.</br> <img src="images/endtimecol2.jpg" style="width:40.0%" /></p>
<p>Step 6: Type a space into Use the separator field to split by space. Click OK.</br> <img src="images/endtimecol3.jpg" style="width:50.0%" /></p>
<p>Step 7: endtime  Split 1 is created.</br> <img src="images/endtimecol4.jpg" style="width:30.0%" /></p>
<p>Step 8: Change data type to Date.</br> <img src="images/endtimecol5.jpg" style="width:30.0%" /></p>
<p>Step 9: Rename as Endtime for spelling consistency.</br> <img src="images/endtimecol6.jpg" style="width:30.0%" /></p>
<p>Step 10: Click on the column that is not needed and click Hide.</br> <img src="images/endtimecol7.jpg" style="width:50.0%" /></p>
<p>Step 11: Click on the column that is not needed and click Hide.</br> <img src="images/endtimecol7.jpg" style="width:50.0%" /></p>
<p><strong>Employment status merged column</strong></br> Step 12: Click on Manage metadata.</br> <img src="images/employstatus1.jpg" style="width:70.0%" /></p>
<p>Keep only the relevant columns: <em>endtime Split-1</em>; <em>household_children</em>; <em>age</em>; <em>gender</em>; <em>household_size</em>; <em>employment_status</em>; <em>employment_status_1</em>; <em>employment_status_2</em>; <em>employment_status_3</em>; <em>employment_status_4</em>; <em>employment_status_5</em>; <em>employment_status_6</em>; <em>employment_status_7</em>; <em>Table Name</em>.</p>
<p>Some countries saved employment_status data as Boolean fields. This is mismatched from other countries that did not. As such, these columns needs to be merged into one single column to aid the building of the visualization.</p>
<p>Step 13: Create a calculated field as shown.</br> <img src="images/employstatus2.jpg" style="width:100.0%" /></p>
<p>Step 14: Ensure data type is String.</br> <img src="images/employstatus3.jpg" style="width:30.0%" /></p>
<p>Step 15: Rename the column.</br> <img src="images/employstatus4.jpg" style="width:50.0%" /></p>
<p><strong>Household children recoded column</strong></br> Step 16: Create a calculated field for household_children to remove null values. <img src="images/householdchild1.jpg" style="width:100.0%" /></p>
<p>Step 17: Rename column.</br> <img src="images/householdchild2.jpg" style="width:40.0%" /></p>
<p>Step 18: Ensure data type is integer.</br> <img src="images/householdchild3.jpg" style="width:40.0%" /></p>
<p><strong>Household size recoded column</strong></br> Step 19: Create a calculated field for household_size to remove null values.</br> <img src="images/householdsize1.jpg" style="width:100.0%" /></p>
<p>Step 20: Ensure data type is integer.</br> <img src="images/householdsize2.jpg" style="width:40.0%" /></p>
<p>Step 21: Rename column.</br> <img src="images/householdsize3.jpg" style="width:40.0%" /></p>
<p><strong>Survey Question and Survey Response (INT) columns</strong></br> Step 22: Pivot all survey responses to make the table long and narrow.</br> <img src="images/surveyquestionresponse1.jpg" style="width:100.0%" /></p>
<p>Step 23: Edit the aliases of all the survey questions for clarity.</br> <img src="images/surveyquestionresponse2.jpg" style="width:50.0%" /></br> <img src="images/surveyquestionresponse3.jpg" style="width:100.0%" /></p>
<p>Step 24: Ensure data type for Survey Question is String.</br> <img src="images/surveyquestionresponse4.jpg" style="width:40.0%" /></p>
<p>Step 25: Rename column.</br> <img src="images/surveyquestionresponse5.jpg" style="width:30.0%" /></p>
<p>Step 26: Split the Survey responses to remain only the number.</br> <img src="images/surveyquestionresponse6.jpg" style="width:40.0%" /></br> <img src="images/surveyquestionresponse7.jpg" style="width:40.0%" /></p>
<p>Step 27: Change the data type to integer.</br> <img src="images/surveyquestionresponse8.jpg" style="width:30.0%" /></p>
<p><strong>Country column</strong></br> Step 28: Change the country names to the proper spelling.</br> <img src="images/country1.jpg" style="width:40.0%" /></br> <img src="images/country2.jpg" style="width:100.0%" /></p>
<p>Step 29: Ensure data type is String, and Geographic Role is Country/Region.</br> <img src="images/country3.jpg" style="width:40.0%" /></p>
<p>Step 30: Rename the field as Country.</br> <img src="images/country4.jpg" style="width:30.0%" /></p>
<p><strong>Age column</strong></br> Step 31: Ensure data type is integer.</br> <img src="images/age1.jpg" style="width:30.0%" /></p>
<p>Step 32: Rename column for consistency.</br> <img src="images/age2.jpg" style="width:30.0%" /></p>
<p><strong>Gender column</strong></br> Step 33: Ensure gender column is String type.</br> <img src="images/gender1.jpg" style="width:30.0%" /></p>
<p>Step 34: Rename column for consistency.</br> <img src="images/gender2.jpg" style="width:30.0%" /></p>
<p><strong>Saving a new data set</strong></br> Step 35: Open a new Sheet and slick View Data.</br> <img src="images/savenewdataset1.jpg" style="width:100.0%" /></p>
<p>Step 36: Click on Export All and save data file as COVID_survey.csv. This will save only the cleaned fields and remove the hidden fields, thereby having a small dataset to use.</br> <img src="images/savenewdataset2.jpg" style="width:100.0%" /></p>
<h3 id="creating-the-calculated-fields">2.3.3 Creating the calculated fields</h3>
<p><strong>Count Negative field</strong></br> The Count Negative field orientates the centre of the neutral survey responses to 0, so that the Strongly Agree, Agree, Disagree, and Strongly Disagree can be presented in a more visually intuitive way.</p>
<p>Step 37: Create a calculated field named Count Negative.</br> <img src="images/countnegative.jpg" style="width:100.0%" /></p>
<p><strong>Gantt Start field</strong></br> The Gantt Start field defines the starting point of the stacked bar chart.</p>
<p>Step 38: Create a calculated field named Gantt Start.</br> <img src="images/ganttstart.jpg" style="width:100.0%" /></p>
<p><strong>Gantt Percent field</strong></br> The Gantt Percent field defines the length of each portion of the stacked bar chart.</p>
<p>Step 39: Create a calculated field named Gantt Percent.</br> <img src="images/ganttpercent.jpg" style="width:100.0%" /></p>
<p><strong>Number of Records field</strong></br> The Number of Records field counts the number of records in the dataset.</p>
<p>Step 40: Create a calculated field named Number of Records.</br> <img src="images/numberofrecords.jpg" style="width:100.0%" /></p>
<p><strong>Percentage field</strong></br> The Percentage field converts the count of the entries to a percentage.</p>
<p>Step 41: Create a calculated field named Percentage.</br> <img src="images/percentage.jpg" style="width:100.0%" /></p>
<p><strong>Strongly Agree and Agree Scores field</strong></br> The Strongly Agree and Agree Scores field counts the number of Strongly Agree (1) and Agree (2) survey scores.</p>
<p>Step 42: Create a calculated field named Strongly Agree and Agree Scores.</br> <img src="images/stronglyagreeandagreescores.jpg" style="width:100.0%" /></p>
<p><strong>Total Count field</strong></br> The Total Count field totals up the number of entries for each response.</p>
<p>Step 43: Create a calculated field named Total Count.</br> <img src="images/totalcount.jpg" style="width:100.0%" /></p>
<p><strong>Total Count Negative field</strong></br> The Total Count Negative field totals up the numbers given in the Count Negative field.</p>
<p>Step 44: Create a calculated field named Total Count Negative.</br> <img src="images/totalcountnegative.jpg" style="width:100.0%" /></p>
<p><strong>Proportion field</strong></br> The Proportion field calculates the proportion of Strongly Agree and Agee Scores column against the total number of records.</p>
<p>Step 45: Create a calculated field named Proportion column.</br> <img src="images/proportion.jpg" style="width:100.0%" /></p>
<p><strong>Prop_SE field</strong></br> The Prop_SE field calculates the standard error of the Proportion field. This will be used to calculate the confidence interval of the survey responses.</p>
<p>Step 46: Create a calculated field named Prop_SE.</br> <img src="images/propse.jpg" style="width:100.0%" /></p>
<p><strong>Z_95% field</strong></br> The Z_95% field calculates Z-score for the 95% confidence interval, to be used later.</p>
<p>Step 47: Create a calculated field named Z_95%.</br> <img src="images/z95.jpg" style="width:100.0%" /></p>
<p><strong>Prop_Margin of Error 95% field</strong></br> The Prop_Margin of Error 95% field calculates standard error for a Z-score of 95%. This will be used later.</p>
<p>Step 48: Create a calculated field named Prop_Margin of Error 95%.</br> <img src="images/propmarginoferror95.jpg" style="width:100.0%" /></p>
<p><strong>Prop_Lower Limit 95% field</strong></br> The Prop_Lower Limit 95% field calculates the lower limit of the standard error at a 95% confidence interval.</p>
<p>Step 49: Create a calculated field named Prop_Lower Limit 95%.</br> <img src="images/proplowerlimit95.jpg" style="width:100.0%" /></p>
<p><strong>Prop_Upper Limit 95% field</strong></br> The Prop_Upper Limit 95% field calculates the upper limit of the standard error at a 95% confidence interval.</p>
<p>Step 50: Create a calculated field named Prop_Upper Limit 95%.</br> <img src="images/propupperlimit95.jpg" style="width:100.0%" /></p>
<h3 id="create-the-worksheet-comparison-within-country">2.3.3 Create the worksheet (Comparison within country)</h3>
<p>Step 51: Drag Endtime to the Filters Pane and filter to January 2021, since the scope of this visualisation is only for that month.</p>
<p>Step 52: Right-click on Endtime and select January 2021. Click OK.</br> <img src="images/endtime.jpg" style="width:40.0%" /></p>
<p>Step 53: Drag Gantt Percent to the Columns Pane and Survey Questions to the Rows Pane.</br> <img src="images/ganttpercentsurveyquestion.jpg" style="width:40.0%" /></p>
<p>Step 54: On Gantt Percent, click on the small arrow and ensure Continuous format, Compute Using Survey Response (INT).</br> <img src="images/ganttpercent1.jpg" style="width:40.0%" /></p>
<p>Step 55: On Survey Question, click on the small arrow and ensure Continuous format, Compute Using Survey Response (INT).</br> <img src="images/surveyquestion.jpg" style="width:30.0%" /></p>
<p>Step 56: Drag Survey Response (INT) to the Colour Mark, and set to Dimension and Discrete.</br> <img src="images/surveyresponseinttocolour.jpg" style="width:30.0%" /></p>
<p>Step 57: Drag Percentage to the Size mark and set to Continuous.</br> <img src="images/percentagesize.jpg" style="width:40.0%" /></p>
<p>Step 58: Drag Survey Response (INT) to the Detail Mark and set to Dimension and Discrete.</br> <img src="images/surveyresponseinttodetail.jpg" style="width:30.0%" /></p>
<p>Step 59: Click on the Colour Mark, click on Edit Colours and customise the colour scheme of Survey Response (INT) accordingly.</br> <img src="images/colourmarkeditcolours.jpg" style="width:50.0%" /></p>
<p>Step 60: Adjust the size of Percentage accordingly to make the bars in the chart of the appropriate thickness.</br> <img src="images/percentagetosize.jpg" style="width:30.0%" /></p>
<p>Step 61: Drag Country to Filters Pane and select Show Filter.</br> <img src="images/countrytofilters.jpg" style="width:30.0%" /></p>
<p>Step 62: Click on the small arrow beside Country and select Single Value (dropdown).</br> <img src="images/countrysinglevaluedropdown.jpg" style="width:30.0%" /></p>
<p>Step 63: Drag the Filter to the top of the graph.</br> <img src="images/filtertotopofgraph.jpg" style="width:100.0%" /></p>
<p>Step 64: Drag gender to Filters Pane and select Show Filter.</br> <img src="images/gendertofilters.jpg" style="width:30.0%" /></p>
<p>Step 65: Click on the small arrow beside gender and select Single Value (dropdown).</br> <img src="images/gendertosingvaluedropdown.jpg" style="width:30.0%" /></p>
<p>Step 66: Click on the small arrow beside gender and select Edit Title. Type Gender.</br> <img src="images/genderedittitle.jpg" style="width:100.0%" /></p>
<p>Step 67: Drag age to Filters Pane and select Show Filter.</br> <img src="images/agetofilters.jpg" style="width:30.0%" /></p>
<p>Step 68: Click on the small arrow beside age and select Range of Values.</br> <img src="images/agerangeofvalues.jpg" style="width:30.0%" /></p>
<p>Step 69: Click on the small arrow beside age and select Edit Title. Type Age.</br> <img src="images/ageedittitle.jpg" style="width:100.0%" /></p>
<p>Step 70: Drag Employment status merged to Filters Pane and select Show Filter.</br> <img src="images/employmentstatusmergedtofilters.jpg" style="width:30.0%" /></p>
<p>Step 71: Click on the small arrow beside Employment status merged and select Single Value (dropdown).</br> <img src="images/employmentstatusmergedtosinglevaluedropdown.jpg" style="width:30.0%" /></p>
<p>Step 72: Click on the small arrow beside Employment status merged and select Edit Title. Type Employment Status.</br> <img src="images/employmentstatusmergededittitle.jpg" style="width:100.0%" /></p>
<p>Step 73: Drag Household Children recoded to Filters Pane and select Show Filter.</br> <img src="images/householdchildrentofilters.jpg" style="width:30.0%" /></p>
<p>Step 74: Click on the small arrow beside Household Children recoded and select Range of Values.</br> <img src="images/householdchildrenrangeofvalues.jpg" style="width:30.0%" /></p>
<p>Step 75: Click on the small arrow beside Household Children recoded and select Edit Title. Type No.of Children in Household.</br> <img src="images/householdchildrenedittitle.jpg" style="width:100.0%" /></p>
<p>Step 76: Drag Household Size recoded to Filters Pane and select Show Filter.</br> <img src="images/householdsizetofilter.jpg" style="width:30.0%" /></p>
<p>Step 77: Click on the small arrow beside Household Size recoded and select Range of Values.</br> <img src="images/householdsizerecodedrangeofvalues.jpg" style="width:30.0%" /></p>
<p>Step 78: Click on the small arrow beside Household Size recoded and select Edit Title. Type Size of Household.</br> <img src="images/householdsizerecodededittitle.jpg" style="width:100.0%" /></p>
<p>Step 79: Double click on the title and edit accordingly to show the customized settings selected by the user.</br> <img src="images/editcharttitle.jpg" style="width:75.0%" /></p>
<p>Step 80: Double-click on the worksheet tab and rename accordingly.</br> <img src="images/renameworksheettab.jpg" style="width:40.0%" /></p>
<p>Step 81: Click on the y-axis label Survey Question and sort in descending order.</br> <img src="images/sortyaxis.jpg" style="width:30.0%" /></p>
<p>Step 82: The final chart is shown below.</br> <img src="images/finalgraph1.jpg" style="width:100.0%" /></p>
<h3 id="create-the-worksheet-comparison-across-countries">2.3.4 Create the worksheet (Comparison across countries)</h3>
<p>Step 83: Drag Endtime to the Filters Pane and filter to January 2021, since the scope of this visualisation is only for that month.</p>
<p>Step 84: Right-click on Endtime and select January 2021. Click OK.</br> <img src="images/endtimetofilter.jpg" style="width:30.0%" /></p>
<p>Step 85: Drag Measure Values to the Columns Pane and Country to the Rows Pane.</br> <img src="images/colsandrowspane.jpg" style="width:40.0%" /></p>
<p>Step 86: Drag Gender to the y-axis and to the Colour Mark.</br> <img src="images/gendertocolour.jpg" style="width:30.0%" /></p>
<p>Step 87: Click on Colour then Edit Colours, and edit the colours accordingly.</br> <img src="images/gendercolouredit.jpg" style="width:40.0%" /></p>
<p>Step 88: Drag Proportion to the top of the chart.</br> <img src="images/proportiontotopofchart.jpg" style="width:100.0%" /></p>
<p>Step 89: Right-click and select Synchronise Axis.</br> <img src="images/synchroniseaxis.jpg" style="width:30.0%" /></p>
<p>Step 90: Drag Measure Names to the Filters Pane, click on the small arrow and select Edit Filter.</br> <img src="images/measurenamestofilter.jpg" style="width:30.0%" /></p>
<p>Step 91: Select the Prop_Lower Limit 95% and Prop_Upper Limit 95% to define the upper and lower limits of the 95% confidence interval.</br> <img src="images/upperandlowerlimit95.jpg" style="width:40.0%" /></p>
<p>Step 92: Drag Survey Question to the Filters Pane. Click on the small arrow and select Show Filter.</br> <img src="images/surveyquestionshowfilter.jpg" style="width:30.0%" /></p>
<p>Step 93: Drag the Filter to the top of the graph.</br> <img src="images/surveyquestiontopofgraph.jpg" style="width:100.0%" /></p>
<p>Step 94: Drag both Prop_Lower Limit 95% and Prop_Upper Limit 95% to the Measure Values Pane.</br> <img src="images/prop95lowuppertomeasurevalues.jpg" style="width:40.0%" /></p>
<p>Step 95: Ensure Measure Names is in the Measure Values Marks.</br> <img src="images/measurenamesinmeasurevaluesmark.jpg" style="width:30.0%" /></p>
<p>Step 96: Select Line as the Mark Type.</br> <img src="images/lineasmarktype.jpg" style="width:30.0%" /></p>
<p>Step 97: Ensure Measure Names is also in AGG(Proportion) Pane. Change Mark Type to Colour and Circle.</br> <img src="images/measurenamesinaggproportion.jpg" style="width:30.0%" /></p>
<p>Step 98: Edit the colour of the Proportion measure.</br> <img src="images/colourforproportion.jpg" style="width:50.0%" /></p>
<p>Step 99: Edit the colour of the Measure Values.</br> <img src="images/colourformeasurevalues.jpg" style="width:30.0%" /></p>
<p>Step 100: Drag gender to Filters Pane and select Show Filter.</br> <img src="images/gender1a.jpg" style="width:30.0%" /></p>
<p>Step 101: Click on the small arrow beside gender and select Single Value (dropdown).</br> <img src="images/gender2a.jpg" style="width:30.0%" /></p>
<p>Step 102: Click on the small arrow beside gender and select Edit Title. Type Gender.</br> <img src="images/gender3a.jpg" style="width:100.0%" /></p>
<p>Step 103: Drag age to Filters Pane and select Show Filter.</br> <img src="images/age1a.jpg" style="width:30.0%" /></p>
<p>Step 104: Click on the small arrow beside age and select Range of Values.</br> <img src="images/age2a.jpg" style="width:30.0%" /></p>
<p>Step 105: Click on the small arrow beside age and select Edit Title. Type Age.</br> <img src="images/age3a.jpg" style="width:100.0%" /></p>
<p>Step 106: Drag Employment status merged to Filters Pane and select Show Filter.</br> <img src="images/employment1a.jpg" style="width:30.0%" /></p>
<p>Step 107: Click on the small arrow beside Employment status merged and select Single Value (dropdown).</br> <img src="images/employment2a.jpg" style="width:30.0%" /></p>
<p>Step 108: Click on the small arrow beside Employment status merged and select Edit Title. Type Employment Status.</br> <img src="images/employment3a.jpg" style="width:100.0%" /></p>
<p>Step 109: Drag Household Children recoded to Filters Pane and select Show Filter.</br> <img src="images/children1a.jpg" style="width:30.0%" /></p>
<p>Step 110: Click on the small arrow beside Household Children recoded and select Range of Values.</br> <img src="images/children2a.jpg" style="width:30.0%" /></p>
<p>Step 111: Click on the small arrow beside Household Children recoded and select Edit Title. Type No.of Children in Household.</br> <img src="images/children3a.jpg" style="width:100.0%" /></p>
<p>Step 112: Drag Household Size recoded to Filters Pane and select Show Filter.</br> <img src="images/household1a.jpg" style="width:30.0%" /></p>
<p>Step 113: Click on the small arrow beside Household Size recoded and select Range of Values.</br> <img src="images/household2a.jpg" style="width:30.0%" /></p>
<p>Step 114: Click on the small arrow beside Household Size recoded and select Edit Title. Type Size of Household.</br> <img src="images/household3a.jpg" style="width:100.0%" /></p>
<p>Step 115: Sort Proportion of responses in descending order.</br> <img src="images/sortproportionbydesc.jpg" style="width:50.0%" /></p>
<p>Step 116: Double click on the title and edit accordingly to show the customized settings selected by the user.</br> <img src="images/editcharttitle1a.jpg" style="width:50.0%" /></p>
<p>Step 117: Double-click on the worksheet tab and rename accordingly.</br> <img src="images/renameworksheettab1a.jpg" style="width:40.0%" /></p>
<p>Step 118: The final graph is shown below.</br> <img src="images/finalgraph1.jpg" style="width:100.0%" /></p>
<h3 id="create-the-dashboard">2.3.5 Create the dashboard</h3>
<p>Step 119: Drag Comparison within country and Comparison across countries into the left-hand and right-hand pane in the dashboard.</br> <img src="images/worksheetsintodashboard.jpg" style="width:100.0%" /></p>
<p>Step 120: Rearrange the filters accordingly.</br> <img src="images/filters1a.jpg" style="width:20.0%" /></p>
<p>Step 121: Change filter settings to All Values in Database so that filter options affect the whole dashboard.</br> <img src="images/allvaluesindatabase.jpg" style="width:50.0%" /></p>
<p>Step 122: Edit dashboard title.</br> <img src="images/dashboardtitle.jpg" style="width:50.0%" /></p>
<p>Step 123: Rename dashboard.</br> <img src="images/renamedashboard1a.jpg" style="width:40.0%" /></p>
<p>Step 124: The final dashboard is shown below.</br> <img src="images/finaldashboard.jpg" style="width:100.0%" /></p>
<h1 id="insights-from-the-new-visualisation">3.0 Insights from the new visualisation</h1>
<h3 id="observation-1-people-are-generally-open-to-being-vaccinated-against-covid-19.">Observation 1: People are generally open to being vaccinated against COVID-19.</h3>
<p>This pertains to survey questions <em>Vac 1</em>, <em>Vac 2-3</em>, <em>Vac 2-6</em>, and <em>Vac 3</em>.</p>
<p>Overall, there is an openness to being vaccinated against COVID-19 across all countries. This can be seen from the longer bars for Strongly Agree (blue bar) and Agree (teal bar) vis-a-vis Strongly Disagree (red bar) and Disagree (pink bar), indicating a higher proportion of responses to Strongly Agree and Agree. See sample below.</br></br><img src="images/observationcontracingcovid.jpg" style="width:75.0%" /></p>
<h3 id="observation-2-females-are-generally-more-concerned-about-contracting-covid-19-than-males.">Observation 2: Females are generally more concerned about contracting COVID-19 than males.</h3>
<p>This pertains to survey question <em>Vac 2-1</em>. All countries except Singapore show that, at a confidence interval of 95%, the female population are more concerned about contracting the coronavirus compared to males.</br><img src="images/observationcontracingcovid.jpg" style="width:75.0%" /></p>
<h3 id="observation-3-older-people-are-generally-less-concerned-about-the-side-effects-of-a-vaccine.">Observation 3: Older people are generally less concerned about the side-effects of a vaccine.</h3>
<p>This pertains to survey question <em>Vac 2-2</em>. Across all countries, respondents aged 65 to 99 years indicate that they are less concerned about the side-effects of a vaccine.</br><img src="images/sideeffects65andabove.jpg" style="width:75.0%" /></p>
<p>From the visualisation, we can see that this age group of respondents has longer 95% confidence interval lines, compared to across all age groups. This could be because there are comparatively less respondents from this age group. Females in this age category tend to be more concerned about side effects than males. </br><img src="images/cifor65andabove.jpg" style="width:75.0%" /></br></p>
<h1 id="appendix">Appendix</h1>
<p>The survey questions used in this visualisation are as follows.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Code</th>
<th>Question</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Vac 1</td>
<td>If a Covid-19 vaccine were made available to me this week, I would definitely get it.</td>
</tr>
<tr class="even">
<td>Vac 2-1</td>
<td>I am worried about getting COVID-19.</td>
</tr>
<tr class="odd">
<td>Vac 2-2</td>
<td>I am worried about potential side effects of a COVID-19 vaccine.</td>
</tr>
<tr class="even">
<td>Vac 2-3</td>
<td>I believe government health authorities in my country will provide me with an effective COVID-19 vaccine.</td>
</tr>
<tr class="odd">
<td>Vac 2-6</td>
<td>If I do not get a COVID-19 vaccine when it is available, I will regret it.</td>
</tr>
<tr class="even">
<td>Vac 3</td>
<td>If a COVID-19 vaccine becomes available to me a year from now, I definitely intend to get it.</td>
</tr>
</tbody>
</table>
<p>Thanks for visiting my blog!</p>
<p>This post is a data visualisation assignment for the <a href="https://scis.smu.edu.sg/master-it-business/about-mitb-main">MITB programme</a> at the Singapore Management University. </br></br> <font size="2"> Distill is a publication format for scientific and technical writing, native to the web.</br> Learn more about using Distill at <a href="https://rstudio.github.io/distill" class="uri">https://rstudio.github.io/distill</a>. </font></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
